# 线程的等待和唤醒

在Java中，实现线程等待和唤醒的方法有一下几种：

- Object 类实现的 wait()、notify() 和 notifyAll()
- Condition 类实现的 await()、signal() 和 signalAll()
- LockSupport 类实现的 park() 和 unpark()

其中，Object 类实现的方法必须由当前线程获取的锁调用。Condition 类实现的方法相比于 Object 的方法要更加灵活，如 await() 可以设置等待时间，要是没有被其他线程唤醒可以自己醒来等。前两个类的 notify 方法以及 signal 方法都是随机唤醒，而LockSupport 类实现的方法可以指定需要唤醒的线程。

示例代码

```java
    public static void main(String[] args) throws InterruptedException {
        Thread t1 = new Thread(() -> {
            LockSupport.park();
            System.out.println(Thread.currentThread().getName() + "被唤醒了");
        });
        Thread t2 = new Thread(() -> {
            LockSupport.park();
            System.out.println(Thread.currentThread().getName() + "被唤醒了");
        });
        Thread t3 = new Thread(() -> {
            try {
                Thread.sleep(1000);
                System.out.println(Thread.currentThread().getName() + "执行唤醒操作");
                LockSupport.unpark(t1);
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
        });
        t1.start();
        t2.start();
        t3.start();
        t1.join();
        t2.join();
        t3.join();
        System.out.println("main end");
    }
```
