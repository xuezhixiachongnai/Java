# 定时任务

## Spring Scheduled Task

```java
@Configuration
@EnableScheduling // 开启spring定时任务
public class SpringTaskConfig implements SchedulingConfigurer {

    @Override
    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {
        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();
        taskScheduler.setPoolSize(10);
        taskScheduler.setThreadNamePrefix("my-scheduled-task-pool-");
        taskScheduler.initialize();
        taskRegistrar.setTaskScheduler(taskScheduler);
    }
}

// SchedulingConfigurer接口使用来对定时任务进行配置
```

```java
@Component
@Slf4j
public class CronTask {

    @Scheduled(cron = "0/1 * * ? * ?") // 使用该注解注册定时任务
    public void cronTask() {
        log.info("执行时间{}", System.currentTimeMillis());
    }
}
```

Cron 表达式是一种表示时间的表达式。他的语法格式总结为：

>  Seconds Minutes Hours DayofMonth Month DayofWeek

## Quartz

### 概述

是一款功能强大的开源任务调度框架。他有4个核心概念：

- `Job`：任务，要执行的具体内容
- `JobDetail`：任务详情，Job是它要执行的内容，同时包含了这个任务调度的策略和方案
- `Trigger`：触发器，可以通过 Cron 表达式来指定任务执行的时间
- `Scheduler`：调度器，可以注册多个 JobDetail 和 Trigger，用来调度、暂停和删除任务

### https://www.cnblogs.com/xiao2shiqi/p/17064305.html